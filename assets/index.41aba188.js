import{j as k,v as L,r as c,R as j,a as V}from"./vendor.24dccabc.js";const X=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}};X();const t=k.exports.jsx,C=k.exports.jsxs,v=k.exports.Fragment,z=[{_id:L(),title:"Breathe"}],H={pomodoros:z,addPomodoro:()=>{},deletePomodoro:()=>{},setPomodoros:()=>{}},h=c.exports.createContext(H),J=({children:e})=>{const r=c.exports.useContext(h),[n,a]=c.exports.useState(r.pomodoros),o=l=>{a([...n,l])},s=l=>{a(n.filter(d=>d._id!==l._id))};return t(h.Provider,{value:{pomodoros:n,addPomodoro:o,setPomodoros:a,deletePomodoro:s},children:e})},Q=()=>{const{addPomodoro:e}=c.exports.useContext(h);return{onKeyDown:n=>{if(n.key==="Escape")n.target.value="";else if(n.key==="Enter"){const a=n.target.value;if(a.length==0||a.match(/^ *$/)!==null)return;const o={_id:L(),title:a};n.target.value="",e(o)}}}},W=()=>{const{onKeyDown:e}=Q();return t(v,{children:C("div",{className:"relative",children:[t("label",{htmlFor:"Search",className:"sr-only",children:"Search"}),t("input",{type:"text",id:"Search",placeholder:"Create Pomodoro",className:"w-full rounded-md border-gray-200  py-2.5 pe-10 shadow-sm sm:text-sm",onKeyDown:e}),t("span",{className:"absolute inset-y-0  end-0 grid w-10 place-content-center",children:t("button",{type:"button",className:"text-gray-600 hover:text-gray-700",children:t("span",{className:"sr-only",children:"Search"})})})]})})},Y=({cardName:e,cardColor:r,cardText:n,cardNameIsChanging:a,onClickStart:o,onClickStop:s,onClickReset:l,onClickComplete:d,onClickClose:u,onCardNameDoubleClick:m,onCardNameChange:f,onCardNameChangeKeyDown:p})=>t(v,{children:C("div",{className:`max-w-sm mx-auto p-6 m-4 ${r}
                    rounded-lg shadow-xl text-center border-4 border-solid`,children:[t("div",{className:"flex-shrink-0 pb-4 max-w-[290px]",children:a?t("input",{type:"text",className:"rounded-lg",value:e,onChange:f,onKeyDown:p}):t("p",{className:"text-black text-3xl font-bold",onDoubleClick:m,children:e})}),t("div",{className:"mb-4",children:t("p",{className:"text-4xl font-bold",children:n})}),C("span",{className:"inline-flex -space-x-px overflow-hidden  rounded-md border bg-[#6d4a4a] text-white shadow-sm",children:[t("button",{className:"inline-block px-4 py-2 text-sm font-medium  hover:bg-[#614242] focus:relative",onClick:o,children:"Start"}),t("button",{className:"inline-block px-4 py-2 text-sm font-medium  hover:bg-[#614242] focus:relative",onClick:s,children:"Stop"}),t("button",{className:"inline-block px-4 py-2 text-sm font-medium  hover:bg-[#614242] focus:relative",onClick:l,children:"Reset"}),t("button",{className:"inline-block px-4 py-2 text-sm font-medium  hover:bg-[#614242] focus:relative",onClick:d,children:"(C)"}),t("button",{className:"inline-block px-4 py-2 text-sm font-medium  hover:bg-[#614242] focus:relative",onClick:u,children:"(X)"})]})]})}),w=e=>{const r=e/60,n=Math.floor(r),a=(r-n)*60;return`${n.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}:${a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}`},P=60*25;var K;(function(e){e[e.Neutral=0]="Neutral",e[e.Started=1]="Started",e[e.Stopped=2]="Stopped",e[e.Expired=3]="Expired"})(K||(K={}));const Z=e=>{switch(e){case 0:return"bg-white";case 1:return"bg-yellow-100";case 2:return"bg-red-300";case 3:return"bg-green-100";default:return"bg-white"}},ee=e=>{const{deletePomodoro:r}=c.exports.useContext(h),[n,a]=c.exports.useState(""),[o,s]=c.exports.useState(e.title!==void 0?e.title:""),[l,d]=c.exports.useState(0),[u,m]=c.exports.useState(P),[f,p]=c.exports.useState(0),[b,S]=c.exports.useState(w(u)),[y,I]=c.exports.useState(0),[_,D]=c.exports.useState(!1),A=Z(l),N=i=>l===i,T=()=>{m(P),S(w(P))},g=()=>{y!==0&&(window.clearInterval(y),I(0))},M=()=>{if(y!==0)return;N(3)&&T(),p(Date.now());const i=window.setInterval(()=>{m(x=>x-1)},1e3);I(i),d(1)},O=()=>{N(0)||(g(),d(2))},$=()=>{g(),T(),d(0)},F=()=>{d(3),g()},U=()=>{r(e)},B=()=>{a(o),D(!0)},G=i=>{const x=i.target.value;s(x)},q=i=>{(i.key==="Enter"||i.key==="Escape")&&(D(!1),i.preventDefault(),i.stopPropagation(),(i.key==="Escape"||o.length===0||o.match(/^ *$/)!==null)&&s(n))};return c.exports.useEffect(()=>{if(N(0))return;const i=Date.now(),x=Math.floor((i-f)/1e3);if(x>1){const E=u-x;m(E>0?E:0)}p(i),S(w(u)),u<=0&&(g(),d(3))},[u]),{cardName:o,cardColor:A,cardText:b,cardNameIsChanging:_,onClickStart:M,onClickStop:O,onClickReset:$,onClickComplete:F,onClickClose:U,onCardNameDoubleClick:B,onCardNameChange:G,onCardNameChangeKeyDown:q}},te=e=>{const{cardName:r,cardColor:n,cardText:a,cardNameIsChanging:o,onClickStart:s,onClickStop:l,onClickReset:d,onClickComplete:u,onClickClose:m,onCardNameDoubleClick:f,onCardNameChange:p,onCardNameChangeKeyDown:b}=ee(e);return t(v,{children:t(Y,{cardName:r,cardColor:n,cardText:a,cardNameIsChanging:o,onClickStart:s,onClickStop:l,onClickReset:d,onClickComplete:u,onClickClose:m,onCardNameDoubleClick:f,onCardNameChange:p,onCardNameChangeKeyDown:b})})},oe=()=>{const{pomodoros:e}=c.exports.useContext(h);return t(v,{children:e.map(r=>t(te,{_id:r._id,title:r.title},r._id))})},re=()=>t(J,{children:t("div",{className:"flex justify-center h-screen bg-[#282c34]",children:C("div",{className:"m-auto",children:[t(W,{}),t(oe,{})]})})}),ne={pageTitle:""},R=j.createContext(ne),se=e=>{const r=c.exports.useContext(R);return t(R.Provider,{value:{pageTitle:r.pageTitle},children:e.children})};V.render(t(se,{children:t(j.StrictMode,{children:t(re,{})})}),document.getElementById("root"));
